{template '_header'}
<script src="https://cdn.bootcss.com/angular.js/1.6.9/angular.min.js"></script>
<script src="{MODULE_URL}/plugin/open_farm/static/web/js/base.js"></script>
<script src="{MODULE_URL}/plugin/open_farm/static/web/js/configure.js"></script>
<div class="page-header">
    当前位置：<span class="text-primary">农场配置</span>
</div>
<div class="page-content" ng-app="configure_app" ng-controller="configure_controller">
    <div class="alert alert-primary">
        <p>说明:</p>
        <p>1. 农场分享或农场入口等配置 </p>
    </div>
    <div class="box box-info">
        <form class="form-horizontal">
            <div class="box-body">
                <div class='form-group-title'>基本设置</div>
                <div class="form-group">
                    <label for="name" class="col-sm-2 control-label">农场名字</label>
                    <div class="col-sm-10">
                        <input type="text" ng-model="data.farm_info.name" class="form-control" id="name" placeholder="农场名字">
                    </div>
                </div>
                <div class="form-group">
                    <label for="public_qrcode" class="col-sm-2 control-label">公众号二维码</label>
                    <div class="col-sm-10">
                        <div class="input-group">
                            <input type="text" name="public_qrcode" value="" class="form-control" autocomplete="off" filename="icon.jpg" url="{{data.farm_info.public_qrcode}}" ng-model="data.farm_info.public_qrcode">
                            <span class="input-group-btn">
                                <button id="public_qrcode" class="btn btn-default" type="button" onclick="showImageDialog(this);">选择图片</button>
                            </span>
                        </div>
                        <div class="input-group" style="margin-top:.5em;">
                            <img ng-src="{{data.farm_info.show_public_qrcode}}" onerror="this.src='./resource/images/nopic.jpg'; this.title='图片未找到.'" class="img-responsive img-thumbnail" width="150">
                            <em class="close" style="position:absolute; top: 0px; right: -14px;" title="删除这张图片" onclick="deleteImage(this)">×</em>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">是否强制关注</label>
                    <div class="col-sm-10">
                        <label for="force_follow_0" class="radio-inline">是</label>
                        <input type="radio" name="force_follow" id="force_follow_0"  ng-value='0' ng-model="data.farm_info.force_follow">
                        <label for="force_follow_1" class="radio-inline">否</label>
                        <input type="radio" name="force_follow" id="force_follow_1" ng-value='1' ng-model="data.farm_info.force_follow">
                    </div>
                </div>
                <div class='form-group-title'>分享设置</div>
                <div class="form-group">
                    <label for="title" class="col-sm-2 control-label">标题</label>
                    <div class="col-sm-10">
                        <input id="title" type="text" class="form-control" ng-model="data.farm_info.title" placeholder="分享标题">
                    </div>
                </div>
                <div class="form-group">
                    <label for="logo" class="col-sm-2 control-label">图标</label>
                    <div class="col-sm-10">
                        <div class="input-group">
                            <input type="text" name="logo" value="" class="form-control" autocomplete="off" filename="icon.jpg" url="{{data.farm_info.logo}}" ng-model="data.farm_info.logo">
                            <span class="input-group-btn">
                                <button id="logo" class="btn btn-default" type="button" onclick="showImageDialog(this);">选择图片</button>
                            </span>
                        </div>
                        <div class="input-group" style="margin-top:.5em;">
                            <img ng-src="{{data.farm_info.show_logo}}" onerror="this.src='./resource/images/nopic.jpg'; this.title='图片未找到.'" class="img-responsive img-thumbnail" width="150">
                            <em class="close" style="position:absolute; top: 0px; right: -14px;" title="删除这张图片" onclick="deleteImage(this)">×</em>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="describe" class="col-sm-2 control-label">描述</label>
                    <div class="col-sm-10">
                        <input id="describe" type="text" class="form-control" ng-model="data.farm_info.describe" placeholder="描述">
                    </div>
                </div>
                <div class='form-group-title'>入口设置</div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">直接链接</label>
                    <div class="col-sm-9 col-xs-12">
                        <p class='form-control-static'>
                            <a href='javascript:void(0);' class="js-clip" title='点击复制链接' data-url="{{data.farm_info.url}}" ng-bind="data.farm_info.url"></a>
                            <span style="cursor: pointer;" data-toggle="popover" data-trigger="hover" data-html="true" data-content="<img src='{{data.farm_info.qrcode}}' width='130' alt='链接二维码'>" data-placement="auto right">
                            <i class="glyphicon glyphicon-qrcode"></i>
                        </span>
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">入口二维码</label>
                    <div class="col-sm-10">
                        <img ng-src="{{data.farm_info.qrcode}}" onerror="this.src='./resource/images/nopic.jpg'; this.title='图片未找到.'" class="img-responsive img-thumbnail" width="150">
                    </div>
                </div>
                <div class="form-group">
                    <label for="keyword" class="col-sm-2 control-label">关键字</label>
                    <div class="col-sm-10">
                        <input id="keyword" type="text" class="form-control" ng-model="data.farm_info.keyword" placeholder="关键字">
                    </div>
                </div>
                <div class="box-footer">
                    <button type="button" class="btn btn-info pull-right" ng-click="function.edit_info();">提交修改</button>
                </div>
            </div>
        </form>
    </div>
</div>
{template '_footer'}