/*20171114*/
var jsBridge=function(){function n(n,e,i){return r.isReady()?(c&&alert("js call\n\nname:"+n+"\noptions:"+JSON.stringify(e)),void window.WebViewJavascriptBridge.callHandler(n,e,function(n){if(c&&alert("js back\n\n"+n),i&&"function"==typeof i){var e=JSON.parse(n);i(e.success?!0:!1,e.text)}})):void alert("jsBridge is not ready")}function e(e,i,t){n(e,i,function(n,e){t&&t(e)})}function i(e,i,t){n(e,i,function(n,e){t&&t(e?JSON.parse(e):null)})}function t(n,e){return r.isReady()?void window.WebViewJavascriptBridge.registerHandler(n,function(n,i){var t={ok:!0};if(e){var o=e(n);void 0!=o&&(t.data=e(n))}i(t)}):void alert("jsBridge is not ready")}function o(n,e,i){t(n,function(n){i=i||{},r.share({to:e,title:i.title||document.title,link:i.link||location.href,imgUrl:i.imgUrl||"",desc:i.desc||""},function(n){n&&i.success&&i.success(),n||i.cancel&&i.cancel()})})}function a(n){if(window.WebViewJavascriptBridge)return n(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(n);window.WVJBCallbacks=[n];var e=document.createElement("iframe");e.style.display="none",e.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(e),setTimeout(function(){document.documentElement.removeChild(e)},0)}var c=!1,r={isReady:function(){return window.WebViewJavascriptBridge?!0:!1},ready:function(n){a(n)},uiNavigation:function(e){n("uiNavigation",{b:e},null)},uiShare:function(e){n("uiShare",{b:e},null)},uiActions:function(e){n("uiActions",{b:e},null)},uiRefresh:function(e){n("uiRefresh",{b:e},null)},canGoBack:function(e){n("canGoBack",{},function(n,i){e&&e("true"==i)})},canGoForward:function(e){n("canGoForward",{},function(n,i){e&&e("true"==i)})},contactOne:function(n){i("contactOne",{},n)},contactAll:function(n){i("contactAll",{},n)},setClipboardText:function(e){n("setClipboardText",{text:e})},getClipboardText:function(n){e("getClipboardText",{},n)},debug:function(){n("debug",{}),c=!0},qqLogin:function(e){return e?void n("qqLogin",{},function(n,i){if("function"==typeof e)e(n,i?JSON.parse(i):null);else if(n&&"string"==typeof e){var t=JSON.parse(i),o=e+(e.indexOf("?")>=0?"&":"?")+"openid="+encodeURIComponent(t.openid)+"&access_token="+encodeURIComponent(t.access_token);t.userinfo&&(o+="&userinfo="+JSON.stringify(t.userinfo)),location.href=o}}):void alert("Missing Parameter")},wxLogin:function(e){return e?void n("wxLogin",{},function(n,i){if("function"==typeof e)e(n,i?JSON.parse(i):null);else if(n&&"string"==typeof e){var t=JSON.parse(i),o=e+(e.indexOf("?")>=0?"&":"?")+"code="+encodeURIComponent(t.code);t.openid&&(o+="&openid="+encodeURIComponent(t.openid)),t.access_token&&(o+="&access_token="+encodeURIComponent(t.access_token)),t.userinfo&&(o+="&userinfo="+JSON.stringify(t.userinfo)),location.href=o}}):void alert("Missing Parameter")},wxAppInstalled:function(e){n("wxAppInstalled",{},function(n,i){e&&e("true"==i)})},pay:function(e,i){n("pay",e,i)},wxPay:function(e,i){n("wxPay",e,i)},aliPay:function(e,i){n("aliPay",e,i)},net:function(e,i){n("net",e,i)},share:function(e,i){n("share",e,i)},shareText:function(e,i){n("shareText",e,i)},shareImage:function(e,i){n("shareImage",e,i)},shareMusic:function(e,i){n("shareMusic",e,i)},shareVideo:function(e,i){n("shareVideo",e,i)},shareImages:function(e,i){n("shareImages",e,i)},scan:function(n,i){e("scan",n,i)},cacheSize:function(e){n("cacheSize",{},function(n,i){e&&e(n&&i?parseInt(i):0)})},clearCache:function(n){e("clearCache",{},n)},setPushAlias:function(e,i){n("setPushAlias",e,i)},setPushTags:function(e,i){n("setPushTags",e,i)},getInstallId:function(n){e("getInstallId",{},n)},getDeviceId:function(n){e("getDeviceId",{},n)},onMenuShareTimeline:function(n){o("onMenuShareTimeline",0,n)},onMenuShareFriend:function(n){o("onMenuShareFriend",1,n)},onMenuShareQQ:function(n){o("onMenuShareQQ",2,n)},onMenuShareQZone:function(n){o("onMenuShareQZone",3,n)}},u=/LT-APP\/(\d+)/,s=navigator.userAgent;Object.defineProperty(r,"inApp",{configurable:!1,writable:!1,value:u.test(s)}),Object.defineProperty(r,"version",{configurable:!1,writable:!1,value:r.inApp?parseInt(u.exec(s)[1]):0});var f=/LT-APP\/(\d+)\/(\d+)/;return Object.defineProperty(r,"appVersion",{configurable:!1,writable:!1,value:f.test(s)?parseInt(f.exec(s)[2]):0}),r.inApp&&r.ready(function(){}),r}();