{php include wl_template('common/header');}
<div class="page-group">
	<div class="page page-current">
		{php include wl_template('common/earn');}
		<div class="content native-scroll infinite-scroll-bottom infinite-scroll halflist">
			<div id="app">
				<div class="shop" style="display:none;" v-show="loadBf">
					<transition name="shop">
						<div class="shop-d" :class="{shopdhd: order.sign}">
							<div class="shop-right-bar">
								<!--
						      	<div class="shop-right-bar-i">
						      		<a :href="getHomeUrl()">首页</a>
						      	</div>
						      	-->
						      	<div class="shop-right-bar-i" id="collect" @click="collect()"  iscollect="{if $collects}1{else}0{/if}">
	                                {if $collects}
	                                    <span>取消<br>收藏</span>
	                                {else}
	                                    <span>收藏<br>店铺</span>
	                                {/if}
						      	</div>
						    </div>
							<div class="shop-h">
								<div class="shop-adv-btn">
						      	  <audio id="bgaudio" style="display: none;" :src="datas.basic.bgmusic" autoplay="autoplay" loop="loop"></audio>
						      	  <div class="bgmusic" :class="{ stopped: !bgMusic }" @click="bgMusicFun()" v-if="datas.basic.bgmusic !== ''"><div class="control"><div class="control-after"></div></div></div>
						      	  <a :href="getPosterUrl()" class="sec_newewm hb_btn">生成海报</a>
					      	  	</div>
								<div class="shop-swiper">
							        <div class="swiper-container">
								      <div class="swiper-wrapper">
								        <div class="swiper-slide" v-for="(item, key) in datas.basic.thumbs" :key="key"><img :src="item"></div>
								      </div>
								      <div class="swiper-pagination"></div>
							        </div>
							    </div>
							    <div class="shop-h-b">
							    	<div class="shop-h-b-l">已售:&nbsp;{{ datas.basic.salenum }}{{ datas.basic.unit }}</div>
							    	<div class="shop-h-b-r"><i class="icon iconfont icon-hotfill"></i>{{ datas.basic.pv }}人浏览</div>
							    </div>
							</div>
							<div class="shop-t1">
								<div class="shop-t1-t">
									{{ datas.basic.name }}
								</div>
								<div class="shop-t1-c">
									<span>￥<em>{{ datas.basic.price }}</em></span><i>￥{{ datas.basic.oldprice }}</i>
								</div>
								<div class="shop-t1-b" v-if="datas.basic.vipstatus == 1 || datas.basic.vipstatus == 2">
									<div class="member-cord">
	    								<p class="cord-left">
	    									<i>
	    										<svg class="icon pos-center" style="width: .8em; height: .8em;margin-top: .05rem;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6946"><path d="M957.942003 407.418107c4.937452-6.197142 4.954849-15.143908-0.297782-21.406542L718.393185 100.883665c-1.357927-1.623987-2.981914-2.916423-4.738931-3.89368-2.765997-5.600555-8.532327-9.42772-15.193027-9.42772L326.247924 87.562265c-6.329149 0-11.978822 3.612271-14.877849 8.930393-2.15406 0.994654-4.142343 2.469238-5.733585 4.391007L66.386478 386.011564c-3.048429 3.628644-4.340865 8.16803-3.90903 12.541641-0.464581 4.391007 0.794086 8.964162 3.859911 12.625552L501.444085 929.709497c5.997598 7.175423 16.634866 8.037047 23.825638 2.02103 3.13234-2.650363 5.086855-6.145977 5.799076-9.841136 0.38067-0.379647 0.762363-0.777713 1.110287-1.209548L953.899944 418.089144C956.533934 414.956803 957.859116 411.17978 957.942003 407.418107zM520.830621 727.291344 754.099409 449.304076c8.963139-10.686387 25.00244-12.06171 35.754319-3.032056 10.852162 9.096169 12.211113 25.035186 3.230578 35.755342L542.071388 781.172509c-5.418406 6.445806-13.387915 9.509585-21.240767 8.930393-7.837502 0.579191-15.807011-2.484587-21.224394-8.930393L248.57489 482.027361c-8.979512-10.720156-7.605212-26.659173 3.247974-35.755342 10.769274-9.029654 26.774807-7.65433 35.754319 3.032056L520.830621 727.291344z" p-id="6947"></path></svg>
	    									</i>
	    					    			<span v-if="datas.basic.vipstatus == 1">会员价￥{{ datas.basic.vipprice }}</span>
	    					    			<span v-if="datas.basic.vipstatus == 2">会员特供</span>
	    					    		</p>
	    					    		<a :href="getVipUrl()">
		    								<p class="cord-right" v-if="datas.basic.vipflag && datas.basic.vipflag !== '' && datas.basic.vipflag !== null">
		    					    			<span>查看我的特权</span>
		    					    			<i class="icon iconfont icon-right"></i>
		    								</p>
		    								<p class="cord-right ios_payclose" v-if="!datas.basic.vipflag || datas.basic.vipflag == '' || datas.basic.vipflag == null">
		    					    			<span>还不是会员? 立即开通</span>
		    					    			<i class="icon iconfont icon-right"></i>
		    								</p>
		    							</a>
	    							</div>
								</div>
								<div class="shop-t1-tag" v-if="datas.basic.tags && datas.basic.tags !== '' && datas.basic.tags !== null">
									<ul>
										<li v-for="(item, key) in datas.basic.tags" :key="key">
											<label>{{ item }}</label>
					  						<i class="icon iconfont icon-roundcheck"></i>
										</li>
									</ul>
								</div>
							</div>
							<div class="shop-t2" v-if="navs.navsList !== null && navs.navsList !== '' && navs.navsList.length > 1">
								<div class="shop-t2-t shop-title">
									<p><i><img src="{URL_MODULE}plugin/groupon/app/resource/image/shop_info1.png"></i>超值套餐</p>
								</div>
								<div class="shop-t2-c">
									<div class="p" v-for="(item, key) in navs.navsList" :key="key" :class="{ active: item.id == getCid}"  @click="todatUrl(item.id)" ><span>{{ item.name }}</span></div>
								</div>
							</div>
							<div class="shop-t3">
								<div class="shop-t3-t shop-title">
									<p><i><img src="{URL_MODULE}plugin/rush/app/resource/images/act_info-tit06.png"></i>使用流程</p>
								</div>
								<div class="shop-t3-c">
									<div class="details_box-c">
										<div class="details_box-c-p">
											<div class="details_box-c-p-l"><i>1</i></div>
											<div class="details_box-c-p-r">
												<p>选择商品，<br>点击立即购买</p>
											</div>
										</div>
										<div class="details_box-c-p">
											<div class="details_box-c-p-l"><i>2</i></div>
											<div class="details_box-c-p-r">
												<p>购买完成在订单<br>页选择使用</p>
											</div>
										</div>
										<div class="details_box-c-p">
											<div class="details_box-c-p-l"><i>3</i></div>
											<div class="details_box-c-p-r">
												<p>获得核销码或<br>等待商家发货</p>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="shop-t4">
								<div class="shop-t4-t shop-title">
									<p><i><img src="{URL_MODULE}plugin/rush/app/resource/images/act_info-tit02.png"></i>商家信息</p>
								</div>
								<div class="shop-t4-c">
									<!--
									<div class="shop_info051-b">
						        		<a :href="getMerchantUrl()"><div class="shop_info051-b-l" :style="'background-image: url('+datas.basic.merchant.logo+')'"></div></a>
						        		<div class="shop_info051-b-r">
						        			<div class="shop_info051-b-r-t1"><a :href="getMerchantUrl()">{{ datas.basic.merchant.storename }}</a></div>
						        			<div class="shop_info051-b-r-t2">
						        				<div class="shop_info051-b-r-t2-l">
								        			<div class="star star-dark">
						                              <i class="icon iconfont icon-shoucangxiao" v-for="(item, key) in 5" :key="key"></i>
						                            </div>
						                            <div class="star star-light">
						                              <div class="star-width" :style="{width: (datas.basic.merchant.score/5)*100+'%'}">
						                                <i class="icon iconfont icon-shoucangxiao" v-for="(item, key) in 5" :key="key"></i>
						                              </div>
						                            </div>
						                        </div>
						                        <div class="shop_info051-b-r-t2-r">{{ datas.basic.merchant.score }}分</div>
						        			</div>
						        			<div class="shop_info051-b-r-t3">
						        				<div class="shop_info051-b-r-t3-l">
							        				<span>{{ datas.basic.merchant.address }}</span>
						        				</div>
						        				<div class="shop_info051-b-r-t3-r"><a :href="'tel:'+datas.basic.merchant.mobile"><i class="icon iconfont icon-dianhua1"></i></a></div>
						        			</div>
						        			<div class="shop_info051-b-r-t4">
						        				<i v-for="(item, key) in datas.basic.merchant.tag" :key="key">{{ item }}</i>
						        			</div>
						        		</div>
						        	</div>
						        	-->
						        	<div class="shop-t4-c-p">
						        		<div class="shop-t4-c-p-l">
						        			<i class="icon iconfont icon-shopfill"></i>
						        			<span>{{ datas.basic.merchant.storename }}</span>
						        		</div>
						        		<div class="shop-t4-c-p-r"><a :href="getMerchantUrl()">进店</a></div>
						        	</div>
						        	<div class="shop-t4-c-p">
						        		<div class="shop-t4-c-p-l">
						        			<i class="icon iconfont icon-dianhua1"></i>
						        			<span>{{ datas.basic.merchant.mobile }}</span>
						        		</div>
						        		<div class="shop-t4-c-p-r"><a :href="'tel:'+datas.basic.merchant.mobile">拨打</a></div>
						        	</div>
						        	<div class="shop-t4-c-p">
						        		<div class="shop-t4-c-p-l">
						        			<i class="icon iconfont icon-dingweixiao"></i>
						        			<span>{{ datas.basic.merchant.address }}</span>
						        		</div>
						        		<div class="shop-t4-c-p-r"><a href="javascript:;" class="navigation" :data-lat="datas.basic.merchant.location.lat" :data-lng="datas.basic.merchant.location.lng" :data-name="datas.basic.merchant.storename" :data-addr="datas.basic.merchant.address" :data-tel="datas.basic.merchant.mobile">导航</a>

						        		</div>
						        	</div>
								</div>
							</div>

							<div class="shop-t7">
								<div v-if="datas.basic.community != null && datas.basic.community != ''">
								<div class="community">
									<div class="community-l" :style="'background-image:url('+datas.basic.community.img+')'"></div>
									<div class="community-c">
										<h1>{{ datas.basic.community.name }}</h1>
										<p>{{ datas.basic.community.desc }}</p>
									</div>
									<div class="community-r"><a href="javascript:;" @click="communityShow()">添加</a></div>
								</div>
								<div class="community-mask" v-show="community"></div>
								<div class="community-pop-ani" v-show="community" :class="{communityani: community}">
									<div class="community-close" @click="communityHide()"></div>
									<div class="community-pop">
										<div class="community-pop-t1">
											<div class="community-pop-t1-l" :style="'background-image:url('+datas.basic.community.img+')'"></div>
											<div class="community-pop-t1-r">{{ datas.basic.community.name }}</div>
										</div>
										<div class="community-pop-t2">
											<img :src="datas.basic.community.qrcode">
										</div>
										<div class="community-pop-t3">
											长按识别二维码
										</div>
										<div class="community-pop-t4" @click="communityHide()">
											我知道了
										</div>
									</div>
								</div>
							  </div>
							</div>

							<div class="shop-t5">
								<div class="goods-cmt-title">
									<div class="goods-cmt-title-p"><a href="javascript:;" class="buy-know-btn" :class="{active: shopShow == 0}" @click="shopShowSel(0)">购买须知</a></div>
				    				<div class="goods-cmt-title-p"><a href="javascript:;" class="goods-txt-btn" :class="{active: shopShow == 1}" @click="shopShowSel(1)">商品详情</a></div>
				    				<div class="goods-cmt-title-p"><a href="javascript:;" class="shop-cmt-btn" :class="{active: shopShow == 2}" @click="shopShowSel(2)">客户评价</a></div>
				    			</div>
				    			<div class="shop-t5-c">
				    				<div class="shop-t5-c-p" v-if="shopShow == 0">
				    					<div v-html="datas.basic.describe" v-if="datas.basic.describe !== '' || datas.basic.describe !== null"></div>
				    					<div class="shop-nothing" v-if="datas.basic.describe == '' || datas.basic.describe == null">—&nbsp;&nbsp;暂无购买须知&nbsp;&nbsp;—</div>
				    				</div>
				    				<div class="shop-t5-c-p" v-if="shopShow == 1">
				    					<div v-html="datas.basic.detail" v-if="datas.basic.detail !== '' || datas.basic.detail !== null"></div>
				    					<div class="shop-nothing" v-if="datas.basic.detail == '' || datas.basic.detail == null">—&nbsp;&nbsp;暂无商品详情&nbsp;&nbsp;—</div>
				    				</div>
				    				<div class="shop-t5-c-p" v-if="shopShow == 2">
				    					<div class="shop-nothing" v-if="comHide">—&nbsp;&nbsp;暂时没有更多评价&nbsp;&nbsp;—</div>
							            <div class="shop-t5-c-p-d" v-if="!comHide">
							              <div class="shop_info-com-i" v-for="(item, key) in com.comment" :key="key">
						                      <div class="shop_info-com">
						                        <div class="shop_info-com-l">
						                          <img :src="item.headimg">
						                        </div>
						                        <div class="shop_info-com-r">
						                          <h1>{{ item.nickname }}<span>{{ item.createtime }}</span></h1>
						                          <h2>
						                            <div class="star star-dark">
						                              <i class="icon iconfont icon-shoucangxiao" v-for="(item, key) in 5" :key="key"></i>
						                            </div>
						                            <div class="star star-light">
						                              <div class="star-width" :style="{width: (item.star/5)*100+'%'}">
						                                <i class="icon iconfont icon-shoucangxiao" v-for="(item, key) in 5" :key="key"></i>
						                              </div>
						                            </div>
						                          </h2>
						                          <p>{{ item.text }}</p>
						                          <h3 v-if="!(item.pic)==''">
						                          	<ul>
						                          		<li v-for="(value, key) in item.pic" :key="key" class="imgloading"><img :src="value"></li>
						                          	</ul>
						                          </h3>
						                          <h4 v-if="!(item.replytextone)==''"><span>商家回复：</span>{{ item.replytextone }}</h4>
						                        </div>
						                      </div>
						                   </div>
						                   <div class="shop_info-com-more" @click="comMore" v-if="!com.loadover">点击查看更多<i class="icon iconfont icon-unfold"></i></div>
							            </div>
				    				</div>
				    			</div>
							</div>
							<div class="shop-t6">
								<div class="shop-t6-t shop-title">
									<p><i><img src="{URL_MODULE}plugin/rush/app/resource/images/act_info-tit07.png"></i>热门推荐</p>
								</div>
								<div class="shop-t6-c">
									<div class="shop_info08-t2-info-i" v-for="(item, key) in datas.basic.recommend">
						              	<a :href="getDtlUrl(item.id)">
							                <div class="shop_info08-t2-info-i-l" :style="'background-image:url('+item.thumb+')'"></div>
							                <div class="shop_info08-t2-info-i-r">
							                  <h1>{{ item.name }}</h1>
							                  <div class="shop_info08-t2-info-i-r-t4">
							                  	{{ item.storename }}
							                  </div>
							                  <div class="shop_info08-t2-info-i-r-t3" style="min-height: 1.03rem;">
							                  	<span v-if="item.discountstatus == 0">{{ (item.price / item.oldprice * 10).toFixed(1) }}折</span>
							                  </div>
							                  <div class="shop_info08-t2-info-i-r-t2">
							                  	<div class="shop_info08-t2-info-i-r-t2-l">
							                  		<span>￥<i>{{ item.price }}</i></span><em>￥{{ item.oldprice }}</em>
							                  	</div>
							                  	<div class="shop_info08-t2-info-i-r-t2-r"><em>已售{{ item.salenum }}{{ datas.basic.unit }}</em></div>
							                  </div>
							                </div>
							            </a>
							         </div>
								</div>
							</div>
							<!--
							<div class="shop-footer">
						      <div class="shop-f flex-s-b box-center">
						        <div class="shop-f-l">
						          <div class="shop-f-l-l">
						          	<div class="shop-f-l-l-t">
						          	￥{{ datas.basic.price }}<em>{{ (datas.basic.price / datas.basic.oldprice * 10).toFixed(1) }}折</em>
						          	</div>
						          	<div class="shop-f-l-l-b">
						          		门市价￥{{ datas.basic.oldprice }}
						          	</div>
						          </div>
						          <div class="shop-f-l-r" v-if="datas.basic.vipstatus == 1">
						            <span>会员价￥{{ datas.basic.vipprice }}</span>
						          </div>
						        </div>
						        <div class="shop-f-r">
						        	<a href="javascript:;" @click="signOn">立即购买</a>
						        </div>
						      </div>
						    </div>
						   -->
						   <nav class="bar bar-tab bar-footer">
							    <a class="tab-item external" :href="getHomeUrl()">
							      <span class="icon iconfont icon-home"></span>
							      <span class="tab-label">首页</span>
							    </a>
							    <a class="tab-item external" :href="getMyselfUrl()">
							      <span class="icon iconfont icon-my"></span>
							      <span class="tab-label">我的</span>
							    </a>
							    <a class="tab-item external" :href="getMerchantUrl()">
							      <span class="icon iconfont icon-shop"></span>
							      <span class="tab-label">店铺</span>
							    </a>
							    <a class="right-btn external" v-if="datas.basic.status == 2" id="buybtn" href="javascript:;" style="width: 7%;" @click="signOn">
							    	立即购买
							    </a>
							   <a class="right-btn external" v-else id="buybtn" href="javascript:;" style="width: 7%;background: grey!important;">
								   活动未开始或已结束
							   </a>
						    </nav>
						</div>
					</transition>
					<transition name="signmask">
						<div class="sign-mask" v-if="order.sign" @click="signCancel()"></div>
					</transition>
					<transition name="sign">
						<div class="sign" v-if="order.sign">
							<div class="sign-close" @click="signCancel()"><i class="icon iconfont icon-close"></i></div>
							<div class="order">
							    <div class="order-d">
							      <div class="order-info1">
							        <div class="order-info1-t1 flex-s-b">
							          <div class="order-info1-t1-l">
							            <div class="order-info1-t1-l-img" :style="'background-image: url('+datas.basic.thumb+')'"></div>
							          </div>
							          <div class="order-info1-t1-r">
							            <h1>{{ datas.basic.name }}</h1>
							            <p>￥<span>{{ order.price }}</span><em class="em-f1" v-if="order.options.title">{{ order.options.title }}</em><em>库存：{{ order.levelnum }}</em></p>
							          </div>
							        </div>
							        <div class="order-t2">
							          <div class="order-t2-spec" v-for="(item, key) in datas.basic.specs" :key="key">
							          	<div class="order-t2-spec-i">
							          		<h1>{{ item.title }}</h1>
								          	<div class="order-t2-spec-i-c">
								          		<a href="javascript:;" v-for="(items, keys) in item.item" :key="keys" @click="specSel(items.specid, items.id, key, keys)" :class="{selected: order.groupId.indexOf(items.id) > -1}">{{ items.title }}</a>
								          	</div>
							          	</div>
							          </div>
							          <div class="order-t2-num">
							            <span>数量：</span>
							            <div class="order-t2-num-r">
							              <a href="javascript:;" class="num-add" @click="numCut">-</a>
							              <input type="number" class="num-n" v-model="order.numN" onkeyup="value=value.replace(/[^\d]/g,'')" v-on:input="numChange()">
							              <a href="javascript:;" class="num-cut" @click="numAdd">+</a>
							            </div>
							          </div>
							          <div class="order-t2-sum">
							            <span>小计：</span><em>￥{{ (order.price * order.numN).toFixed(2) }}</em>
							          </div>
							        </div>
							      </div>
							      <!--<div class="order-info2">
							        <label class="order-info2-i" v-for="(item, key) in datas.basic.orderinfo" :key="key">
							          <h1>{{ item.title }}</h1>
							          <p v-if="item.attr == 'name'"><input type="text" name="signPhone" v-model="item.default" placeholder="请填写姓名" ></p>
							          <p v-else-if="item.attr == 'mobile'"><input type="text" name="signPhone" v-model="item.default" placeholder="请填写联系电话" onkeyup="value=value.replace(/[^\d]/g,'')"></p>
							          <p v-else="item.attr == 'address'"><textarea name="signName" v-model="item.default" placeholder="请填写收货地址"></textarea></p>
							        </label>
							      </div>-->
							    </div>
							    <div class="order-footer">
							      <div class="order-f-d"><a href="javascript:;" class="order-cancel" @click="signCancel">取消</a><a href="javascript:;" class="order-on" :class="{orderOnErr: order.levelnum == 0}" @click="submitOrder"><span v-if="order.levelnum > 0">提交订单</span><span v-if="order.levelnum == 0">库存不足</span></a></div>
							    </div>
							</div>
						</div>
					</transition>
				</div>
			</div>
		</div>
	</div>
</div>

<script>
	new Vue({
		el: '#app',
		data: {
			loadBf: false,
			getCid: 0,
			invitid: 0,
			shopShow: 1,
			community: false,
			datas: {
				basic: {
					thumb: ''
				}
			},
			com: {
				comment: [],
				comLg: 3,
				loadover: false
			},
			order: {
				sign: false,
				numN: 1,
				price: 0,
				levelnum: 0,
				cgImgUrl: '',
				groupTitle: '',
				groupI: 0,
				groupId: [],
				specId: [],
				indexI: -1,
				orderId: [],
				options: [],
				postId: -1,
				orderInfo: {
					name: '',
					mobile: '',
					address: ''
				},
				follows: false,
				follow: []
			},
			navs: {
				navsIndex: 0,
				thisOldIndex: -1,
				navsList: []
			},
			bgMusic: true
		},
		created: function () {
			function getPar (par) {
				var local_url = document.location.href;
				var get = local_url.indexOf(par +"=");
				if(get == -1){
					return false;
				}
				var get_par = local_url.slice(par.length + get + 1);
				var nextPar = get_par.indexOf("&");
				if(nextPar != -1){
					get_par = get_par.slice(0, nextPar);
				}
				return get_par;
			}
			this.getCid = getPar('cid');
			this.invitid = getPar('invitid');
			this.$http.get(common.createUrl('groupon/grouponapp/grouponDetailApi',{'grouponId':this.getCid})).then(
				function (response) {
					console.log(response);
					this.datas.basic = response.data.data;
					this.navs.navsList = this.datas.basic.storegood;
					if(this.datas.basic.specs == null){
						this.order.postId = 0
					}
					if(this.datas.basic.vipstatus == 0 || !this.datas.basic.vipflag){
						this.order.price = this.datas.basic.price
					}else if(this.datas.basic.vipstatus == 1 && this.datas.basic.vipflag){
						this.order.price = this.datas.basic.vipprice
					}else if(this.datas.basic.vipstatus == 2 && this.datas.basic.vipflag){
						this.order.price = this.datas.basic.price
					}
					this.order.levelnum = this.datas.basic.levelnum;
					if(this.datas.basic.comments){
                        this.com.comment = this.datas.basic.comments.slice(0, 3);
                        if(this.datas.basic.comments.length < 4){
                        	this.com.loadover = true
                        }
					}else{
                        this.com.comment = '';
                    }
					this.$nextTick(function () {
						var swiper = new Swiper('.swiper-container', {
							speed:500,
							autoplay: 3000,
							autoplayDisableOnInteraction : false,
							setWrapperSize:true,
							pagination: '.swiper-pagination',
							paginationClickable: true
						});
						var music = document.getElementById('bgaudio');
						document.addEventListener("WeixinJSBridgeReady", function () {
							music.play()
						}, false)
					});
					this.loadBf = true;
				}
			);
		},
		methods: {
			todatUrl: function(cid){
				window.location.href =  common.createUrl('groupon/grouponapp/groupondetail',{'cid':cid})
			},
			getHomeUrl: function () {
			  return common.createUrl('groupon/grouponapp/grouponlist')
			},
			getDtlUrl: function (cid) {
			  return common.createUrl('groupon/grouponapp/groupondetail',{'cid':cid})
			},
			getMerchantUrl: function () {
			  return common.createUrl('store/merchant/detail',{'id':this.datas.basic.sid})
			},
			getPosterUrl: function () {
			  return common.createUrl('common/tools/poster',{'id':this.getCid,type:'groupon'})
			},
			getVipUrl: function () {
			  return common.createUrl('halfcard/halfcard_app/userhalfcard')
			},
			getMyselfUrl: function () {
			  return common.createUrl('member/user/index')
			},
			communityShow: function () {
            	this.community = true
            },
            communityHide: function () {
            	this.community = false
            },
			bgMusicFun: function () {
				var music = document.getElementById('bgaudio');
				if(this.bgMusic){
					music.pause();
					this.bgMusic = false
				}else{
					music.play();
					this.bgMusic = true
				}
			},
			shopShowSel: function (index) {
				this.shopShow = index
			},
			comMore: function () {
			  this.com.comLg += 3;
			  this.com.comment = this.datas.basic.comments.slice(0, this.com.comLg);
			  if((this.com.comLg >= this.datas.basic.comments.length) || this.com.comLg > 9) {
				this.com.loadover = true
			  }
			},
			signOn: function () {
				if(this.datas.basic.forcefollow == 1 && window.__wxjs_environment != 'miniprogram'){
					common.ForceFollow('groupon', this.getCid)
				}else{
					$("#app").css({"height": "100vh", "overflow": "hidden"});
					this.order.sign = true
				}
			},
			followCancel: function () {
			  this.order.follows = false;
			  $("#app").css({"height": "auto", "overflow": "auto"});
			},
			signCancel: function () {
			  this.order.sign = false;
			  $("#app").css({"height": "auto", "overflow": "auto"});
			},
			numCut: function () {
			  if(this.order.numN > 1) {
				this.order.numN--
			  }else{
				$.toptip('最少数量为1')
			  }
			},
			numAdd: function () {
			  if(this.order.numN < this.order.levelnum){
				this.order.numN++
			  }else{
				$.toptip('库存不足')
			  }
			},
			numChange: function () {
				if(!isNaN(this.order.numN)){
					if(this.order.numN < 1){
						this.order.numN = 1;
						$.toptip('最少数量为1')
					}else if(parseInt(this.order.numN) > parseInt(this.order.levelnum)){
						this.order.numN = this.order.levelnum;
						$.toptip('库存不足')
					}
				}else{
					this.order.numN = 1
				}
			},
			specSel: function (specId, orderId, key, keys) {
				if(this.datas.basic.specs && this.datas.basic.specs !== '' && this.datas.basic.specs !== null){
					if(this.datas.basic.specs[key].item[keys].thumb && this.datas.basic.specs[key].item[keys].thumb !== '' && this.datas.basic.specs[key].item[keys].thumb !== null){
						this.datas.basic.thumb = this.datas.basic.specs[key].item[keys].thumb
					}
				}
				this.order.groupI = orderId;
				if(this.order.specId.indexOf(specId) < 0){
					this.order.specId.push(specId)
				}
				for(var i=0; i<this.order.specId.length; i++){
					if(this.order.specId[i] == specId){
						this.order.indexI = i
					}
				}
				if(this.order.indexI > -1){
					this.order.groupId.splice(this.order.indexI, 1, orderId).slice(0)
				}
				function sortNumber(a, b){
					return a - b
				}
				for(var i=0; i<this.datas.basic.options.length; i++){
					if(JSON.stringify(this.order.groupId.slice(0).sort(sortNumber)) == JSON.stringify(this.datas.basic.options[i]['specs'].split('_').slice(0).sort(sortNumber))){
						this.order.options = this.datas.basic.options[i];
						this.order.levelnum = this.order.options['stock'];
						this.order.postId = this.order.options['id']
						if(this.datas.basic.vipflag && this.datas.basic.vipstatus == 1){
							this.order.price = this.order.options['vipprice'];
						}else{
							this.order.price = this.order.options['price'];
						}
					}
				}
			},
			submitOrder: function () {
				if(this.order.levelnum == 0){
					$.toptip('库存不足');
					return false
				}

				if(this.order.postId == -1){
					$.toptip('请选择商品规格');
					return false
				}
				if(this.datas.basic.direct){
					this.$http.get(common.createUrl('groupon/grouponapp/topaygroupon',{'id':this.getCid,invitid:this.invitid,optionid:this.order.postId,num:this.order.numN,name:this.datas.basic.thname,mobile:this.datas.basic.thmobile})).then(
					function (response) {
//						alert(response.body.message);
						if(response.body.errno == 0){
							window.location.href = common.createUrl('groupon/grouponapp/topay',{orderid:response.body.data})
						}else if(response.body.errno == 5){
							$.confirm(response.body.message,function () {
								window.location.href = common.createUrl('member/user/binding',{'backurl':encodeURI(common.createUrl('groupon/grouponapp/groupondetail',{'id':this.getCid}))})
							})
						}else if(response.body.errno == 2){
							$.confirm(response.body.message,function () {
								window.location.href = common.createUrl('member/user/signin',{'backurl':encodeURI(common.createUrl('groupon/grouponapp/groupondetail',{'id':this.getCid}))})
							})
						}else if(response.body.errno == 4){
							$.confirm(response.body.message,function () {
								window.location.href = common.createUrl('order/userorder/orderlist',{'status':'all'})
							})
						}else if(response.body.errno == 1){
							$.toptip(response.body.message);
						}
					});
				}else{
					window.location.href = "{php echo app_url('order/userorder/ordersubmit',array('type'=>'groupon','id'=>$id));}&specid="+this.order.postId+'&num='+this.order.numN;
				}
			},
			shopSel: function (index, cid) {
				this.navs.navsIndex = index
				this.$http.get(common.createUrl('groupon/grouponapp/grouponDetailApi',{'grouponId':cid})).then(
					function (response) {
						//初始化
						this.getCid = cid;
						this.datas.basic = '';
						this.com.comment = [];
						this.com.comLg = 3;
						this.com.loadover = false;
						this.order.sign = false;
						this.order.numN = 1;
						this.order.price = 0;
						this.order.levelnum = 0;
						this.order.cgImgUrl = '';
						this.order.groupTitle = '';
						this.order.groupI = 0;
						this.order.groupId = [];
						this.order.specId = [];
						this.order.indexI = -1;
						this.order.orderId = [];
						this.order.options = [];
						this.order.postId = -1;
						this.order.orderInfo.name = '';
						this.order.orderInfo.mobile = '';
						this.order.orderInfo.address = '';
						this.order.follows = false;
						this.order.follow = [];

						this.datas.basic = response.data.data;
						if(this.datas.basic.specs == null){
							this.order.postId = 0
						}
						if(this.datas.basic.vipstatus == 0 || !this.datas.basic.vipflag){
							this.order.price = this.datas.basic.price
						}else if(this.datas.basic.vipstatus == 1 && this.datas.basic.vipflag){
							this.order.price = this.datas.basic.vipprice
						}else if(this.datas.basic.vipstatus == 2 && this.datas.basic.vipflag){
							this.order.price = this.datas.basic.price
						}
						this.order.levelnum = this.datas.basic.levelnum;
						if(this.datas.basic.comments){
	                        this.com.comment = this.datas.basic.comments.slice(0, 3);
	                        if(this.datas.basic.comments.length < 4){
	                        	this.com.loadover = true
	                        }
						}else{
	                        this.com.comment = '';
	                    }
						this.$nextTick(function () {
							/*
							var swiper = new Swiper('.swiper-container', {
								speed:500,
								autoplay: 3000,
								autoplayDisableOnInteraction : false,
								setWrapperSize:true,
								pagination: '.swiper-pagination',
								paginationClickable: true
							});
							*/
							swiper.update()
							var music = document.getElementById('bgaudio');
							if(this.bgMusic){
								music.play()
							}else{
								music.pause()
							}
						})
					}
				);
			},
			collect: function () {
			    var iscollect = $("#collect").attr("iscollect");
				this.$http.get(common.createUrl('store/merchant/collect',{'id':this.datas.basic.sid})).then(function(response){
					if(response.body.result == 1){
						if(iscollect == 1){
                            $.toast('取消成功');
                            $("#collect").attr("iscollect",1);
                            $("#collect").html("<span>收藏<br>店铺</span>");
                        }else if(iscollect == 0){
                            $.toast('收藏成功');
                            $("#collect").attr("iscollect",0);
                            $("#collect").html("<span>取消<br>收藏</span>");
                        }
					}else{
						$.toast('收藏失败')
					}
				})
			}
		},
		computed: {
			price: function () {
				if(this.datas.basic.vipstatus == 0 || !this.datas.basic.vipflag) {
					return this.datas.basic.price
				}else if(this.datas.basic.vipstatus == 1 && this.datas.basic.vipflag){
					return this.datas.basic.vipprice
				}else{
					return this.datas.basic.price
				}
			},
			comHide: function () {
				return this.com.comment.length == 0 ? true : false
			},
			specSelected: function () {
				return this.order.groupId.indexOf(this.order.groupI) > 0 ? true : false
			}
		}
	})

	//分享有礼
	function shareover(){
		var goodsid = "{$id}";
		$.post("{php echo app_url('sharegift/shareapp/shareajax')}", {goodsid:goodsid,plu:2}, function(result){
			if(result.errno != 0) {
				$.toast(result.msg);
			} else {
				$.toast('感谢分享');
			    setTimeout("rest()",1000);
			}
			return false;
		}, 'json');
	}

	function rest(){
		location.reload();
	}

</script>

<style scoped>
body{position: relative;overflow-x: hidden;overflow: auto;background-color: #efeff4;}
*{box-sizing: initial;}
h1{margin: 0;}
a{color: #333;}
a:active{color: #333;}
input{-webkit-appearance: none;}
.icon{vertical-align: 0;}
#app{position: relative;z-index: 2;}
.shop{opacity: 1.0;}
.shop-right-bar{width: 1.85rem;position: fixed;right: .75rem;bottom: 3.19rem;z-index: 99999;}
.shop-right-bar-i{width: 1.85rem;height: 1.85rem;line-height: 1.85rem;color: #fff;text-align: center;margin-bottom: .6rem;background-color: rgba(0,0,0,.5);-webkit-border-radius: 50%;border-radius: 50%;box-shadow: 0 1px 2px rgba(0,0,0,.5);display: -webkit-flex;display: flex;justify-content: space-around;align-items: center;}
.shop-right-bar-i a{width: 100%;height: 100%;color: #fff;font-size: .6rem;display: block;}
.shop-right-bar-i i{font-size: 18px;vertical-align: 0;}
.shop-right-bar-i:last-child{margin-bottom: 0;}
.shop-right-bar-i span{width: 1.4rem;height: 1.2rem;line-height: .6rem;color: #fff;font-size: .5rem;display: inline-block;}
.scroll-top{width: 1.85rem;height: 1.85rem;line-height: 1.85rem;right: .75rem;bottom: 5.6rem!important;}
.scroll-top i{font-size: .8rem;}
.shop-h{position: relative;}
.shop-swiper{position: relative;}
.shop-swiper, .swiper-wrapper, .swiper-slide{width: 100%!important;height: calc(100vw * 0.4687);}
.swiper-slide img{width: 100%;height: 100%;display: block;object-fit: cover;}
.shop-adv-btn{width: 36px;position: absolute;top: .75rem;right: .75rem;z-index: 10;}
.bgmusic{position: relative;top: 0;right: 0;width: 36px;height: 36px;}
.bgmusic .control{background: url(/addons/weliam_merchant/app/resource/image/music.c0fda016db.gif) transparent no-repeat 50%;background-size: contain;width: 2.5rem;height: 2.5rem;}
.bgmusic.stopped .control{background: none;}
.bgmusic .control .control-after{position: absolute;background: url(/addons/weliam_merchant/app/resource/image/music_off.8d94020a5c.png) transparent no-repeat 50%;background-size: 100% 100%;-webkit-animation: rotate2d 1.2s linear infinite;animation: rotate2d 1.2s linear infinite;z-index: -1;width: 100%;height: 100%;}
.bgmusic.stopped .control .control-after{-webkit-animation: none;animation: none;}
@keyframes rotate2d{from{transform:rotate(0)}
to{transform:rotate(360deg)}}
.hb_btn{position: relative;top: 0;right: 0;background: rgba(0,0,0,.5);width: 28px;height: 28px;text-align: center;border-radius: 50%;color: #fff;vertical-align: middle;margin-top: 0;padding: 4px;display: block;font-size: 12px;line-height: 13px;box-shadow: 0 1px 2px rgba(0,0,0,.5);}
.hb_btn:active{color: #fff;background: rgba(0,0,0,.7);}
.shop-h-b{width: calc(100% - 1.5rem);line-height: 30px;color: #fff;font-size: .7rem;padding: 0 .75rem;background-color: rgba(0,0,0,.6);position: absolute;left: 0;bottom: 0;z-index: 1;display: -webkit-flex;display: flex;-webkit-justify-content: space-between;justify-content: space-between;}
.shop-h-b-l{padding-right: 1rem;}
.shop-h-b-r i{font-size: .8rem;margin-right: .15rem;vertical-align: 0;}
.shop-t1{padding: 0 .75rem;background-color: #fff;}
.shop-t1-t{line-height: 1.2rem;font-size: .8rem;padding-top: .5rem;}
.shop-t1-c{color: #999;font-size: .7rem;}
.shop-t1-c span{color: #F53421;font-size: 1rem;margin-right: .75rem;}
.shop-t1-c span em{font-style: normal;font-size: 1.4rem;}
.shop-t1-c i{font-style: normal;text-decoration: line-through;vertical-align: .05rem;}
.shop-t1-b{margin-top: .25rem;padding-bottom: .5rem;}
.shop-t1-b .member-cord{display: flex;justify-content: space-between;padding: .4rem .7rem;background: -webkit-linear-gradient(90deg, rgba(255, 130, 50), #fe433f);background: -o-linear-gradient(90deg, rgb(255, 130, 50), #fe433f);background: -moz-linear-gradient(90deg, rgb(255, 130, 50), #fe433f);background: linear-gradient(90deg, rgb(255, 130, 50), #fe433f);border-radius: 2rem;color: #f8f8f8;align-items: center;}
.shop-t1-b .member-cord .cord-left{display: flex;align-items: center;}
.shop-t1-b .member-cord .cord-left > i{display: flex;justify-content: center;align-items: center;width: .9rem;height: .9rem;background: #f8f8f8;border-radius: .3rem;position: relative;color: rgb(255, 130, 50);text-align: center;margin-right: .3rem;line-height: .15rem;}
.shop-t1-b .member-cord .cord-right{padding: 0 .25rem 0 .5rem;background-color: rgba(255,255,255,.3);border-radius: 5rem;}
.shop-t1-b .member-cord .cord-right > span{font-size: .6rem;}
.shop-t1-b .member-cord .cord-right i{vertical-align: -0.1rem;}
.shop-t1-b .member-cord a{color: #fff;}
.shop-t1-tag{padding: .5rem 0;padding-top: calc(0.5rem + 1px);position: relative;}
.shop-t1-tag:before {content: "";width: calc(100vw);height: 1px;background-color: #e5e5e5;position: absolute;top: 0;left: -0.75rem;}
.shop-t1-tag > ul:after{content: "";display: block;clear: both;}
.shop-t1-tag > ul > li{display: flex;position: relative;align-items: center;justify-content: ;padding-right: .5rem;flex-direction: row-reverse;float: left;}
.shop-t1-tag > ul > li > label{color: #666;white-space: nowrap;}
.shop-t1-tag .icon-right{color: #999;}
.shop-t1-tag > ul > li > .icon-roundcheck{margin-right: .2rem;margin-top: -0.05rem;color: #fe433f;font-size: .8rem;opacity: 1;line-height: 16px;}
.shop-t2{margin-top: .5rem;padding: 0;background-color: #FFFFFF;}
.shop-title{height: 1rem;line-height: 1rem;padding: .5rem 0;padding-bottom: calc(0.5rem + 1px);display: -webkit-flex;display: flex;justify-content: center;box-sizing: initial;position: relative;}
.shop-title:after{content: "";width: 100%;height: 1px;background-color: #f3f3f3;position: absolute;left: 0;bottom: 0;}
.shop-title p{height: 1rem;line-height: 1rem;font-size: .75rem;font-weight: 600;}
.shop-title p i{width: 1rem;height: 1rem;vertical-align: -0.2rem;margin-right: .25rem;display: inline-block;}
.shop-title p i img{width: 100%;display: block;}
.shop-title a{color: #999999;font-size: .65rem;display: block;}
.shop-title a i{font-size: 1rem;vertical-align: -0.15rem;margin-left: -0.25rem;display: inline;}
.shop-t2-c{padding: .25rem 0 .75rem .75rem;}
.shop-t2-c:after{content: "";display: block;clear: both;}
.shop-t2-c .p{width: calc((100vw - 2.1rem) / 2);line-height: 1.5rem;margin-top: .5rem;padding: .15rem 0;background-color: #fff;border: 0.025rem solid #eee;border-radius: 2px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;display: inline-block;float: left;}
.shop-t2-c .p span {padding: 0 .5rem;}
.shop-t2-c .p.active{color: #FFFFFF;border: 0.025rem solid #FF6E01;background: #FF6E01;}
.shop-t2-c .p:nth-child(even){margin-left: .5rem;}
.shop-t3{margin-top: .5rem;padding: 0 .75rem;background-color: #FFFFFF;}
.shop-t3 .shop-title{justify-content: space-between;}
.details_box-c{padding: .7rem 0;display: -webkit-flex;display: flex;justify-content: space-between;}
.details_box-c-p{padding-right: .25rem;display: -webkit-flex;display: flex;justify-content: space-between;-webkit-flex-shrink: 1;flex-shrink: 1;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}
.details_box-c-p:last-child{padding-right: 0;}
.details_box-c-p-l{display: -webkit-flex;display: flex;align-items: center;}
.details_box-c-p-l i{width: .9rem;height: .9rem;line-height: .9rem;color: #fff;text-align: center;font-size: .65rem;font-style: normal;background-color: #f8a024;border-radius: 5rem;display: inline-block;}
.details_box-c-p-r{padding-left: .25rem;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}
.details_box-c-p-r p{height: 2rem;line-height: 1rem;font-size: .6rem;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}
.shop-t4{margin-top: .5rem;padding: 0 .75rem;background-color: #FFFFFF;}
/*
.shop_info051-b{padding: .75rem 0;position: relative;}
.shop_info051-b-l{width: 4.6rem;height: 4.6rem;background-size: cover;background-position: center;border-radius: 2px;position: absolute;}
.shop_info051-b-r{font-size: .6rem;min-height: 4.6rem;;padding-left: 5rem;}
.shop_info051-b-r-t1{height: 1.05rem;line-height: 1.05rem;font-size: .75rem;font-weight: 600;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}
.shop_info051-b-r-t2{height: 1.05rem;line-height: 1.05rem;display: -webkit-flex;display: flex;justify-content: flex-start;}
.shop_info051-b-r-t2-l{width: 3.75rem;}
.shop_info051-b-r-t2-r{margin-left: .25rem;color: #ff9900;}
.shop_info051-b-r-t2-point{color: #ff9900;}
.shop_info051-b-r-t2 .icon-shoucangxiao{font-size: .6rem;margin-right: .15rem;}
.shop_info051-b-r-t2 .star{display: inline-block;position: absolute;height: 1.4rem;}
.shop_info051-b-r-t2 .star-dark .icon-shoucangxiao{z-index: 1;}
.star-dark .icon-shoucangxiao{color: #eee;}
.star-light .icon-shoucangxiao{color: #ff9900;}
.shop_info051-b-r-t2 .star-light{z-index: 1;}
.shop_info051-b-r-t2 .star-width{overflow: hidden;word-break: keep-all;white-space: nowrap;}
.shop_info051-b-r-t3{height: 1.05rem;line-height: 1.05rem;font-size: .55rem;display: -webkit-flex;display: flex;justify-content: flex-start;}
.shop_info051-b-r-t3-l{overflow: hidden;text-overflow: ellipsis;white-space: nowrap;-webkit-flex: 1;flex: 1;}
.shop_info051-b-r-t3-r{width: 13%;-webkit-flex-shrink: 0;flex-shrink: 0;}
.shop_info051-b-r-t3-r i{width: 100%;display: inline-block;text-align: center;height: 1.05rem;line-height: .85rem;color: #ff2726;}
.shop_info051-b-r-t4{font-size: .55rem;margin-top: .2rem;}
.shop_info051-b-r-t4 i{color: #999;font-style: normal;margin: 0 .15rem .15rem 0;padding: 0 .15rem;border: .025rem solid #d6d6d6;border-radius: 2px;display: inline-block;}
*/
.shop-t4-c {padding: .5rem 0;}
.shop-t4-c-p{line-height: 1.2rem;margin-bottom: .5rem;display: -webkit-flex;display: flex;-webkit-justify-content: space-between;justify-content: space-between;}
.shop-t4-c-p:last-child {margin-bottom: 0;}
.shop-t4-c-p-l {padding-right: .5rem;-webkit-flex-shrink: 1;flex-shrink: 1;display: -webkit-flex;display: flex;-webkit-justify-content: flex-start;justify-content: flex-start;}
.shop-t4-c-p-l i {color: #FE433F;font-size: .9rem;margin-right: .25rem;margin-top: 0;}
.shop-t4-c-p-r {-webkit-flex-shrink: 0;flex-shrink: 0;}
.shop-t4-c-p-r a {height: 1.2rem;line-height: 1.2rem;color: #fff;font-size: .6rem;padding: 0 .75rem;background-color: #FE433F;-webkit-border-radius: 3px;border-radius: 3px;display: inline-block;}

.shop-t5{margin-top: .5rem;padding: 0 .75rem;background-color: #FFFFFF;}
.goods-cmt-title{text-align: center;display: -webkit-flex;display: flex;justify-content: space-between;position: relative;}
.goods-cmt-title:after{content: "";width: 100vw;height: 1px;background-color: #f3f3f3;position: absolute;left: -0.75rem;bottom: 0;}
.goods-cmt-title-p{padding-top: .25rem;padding-bottom: 1px;-webkit-flex: 1;flex: 1;box-sizing: initial;}
.goods-cmt-title-p a{height: 1.6rem;line-height: 1.6rem;color: #333;font-size: .75rem;padding-bottom: .25rem;display: inline-block;position: relative;}
.goods-cmt-title-p .active{color: #fb2d37;background-color: transparent;}
.goods-cmt-title-p .active:after{content: "";width: 100%;height: 2px;background-color: #fb2d37;position: absolute;left: 0;bottom: 0;}
.shop-t5-c-p{padding: .5rem 0 .15rem 0;font-size: .7rem;position: relative;}
.shop-t5-c-p p{margin-bottom: .15rem;position: relative;}
.shop-t5-c-p img {
    width: auto!important;
    max-width: 100%!important;
    height: auto!important;
    margin: 0 auto;
    display: block;
}
.shop_info-com-more{text-align: center;color: #ff2726;font-size: .6rem;padding: .35rem 0;}
.shop_info-com-more i{font-size: .6rem;}
.shop_info-com-i{padding: .75rem 0;border-bottom: 1px solid #f9f9f9;}
.shop_info-com{position: relative;}
.shop_info-com-l{position: absolute;width: 2.1rem;height: 2.1rem;border-radius: 50%;overflow: hidden;}
.shop_info-com-l img{display: block;width: 100%;}
.shop_info-com-r{padding-left: 2.8rem;min-height: 2.1rem;}
.shop_info-com-r h1{font-weight: normal;color: #000;font-size: .7rem;margin: 0;}
.shop_info-com-r h1 span{float: right;color: #999;font-size: 0.6rem;}
.shop_info-com-r h2{font-weight: normal;position: relative;height: 1.4rem;line-height: 1.4rem;}
.shop_info-com-r h2 .icon-shoucangxiao{font-size: .65rem;margin-right: .15rem;}
.shop_info-com-r h2 .star{display: inline-block;position: absolute;height: 1.4rem;}
.shop_info-com-r h2 .star-dark .icon-shoucangxiao{z-index: 1;}
.star-dark .icon-shoucangxiao{color: #eee;}
.star-light .icon-shoucangxiao{color: #ff9900;}
.shop_info-com-r h2 .star-light{z-index: 1;}
.shop_info-com-r h2 .star-width{height: 1.4rem;overflow: hidden;word-break: keep-all;white-space: nowrap;}
.shop_info-com-r p{font-size: .6rem;padding-top: .25rem;}
.shop_info-com-r h3 ul{margin-left: -5px;padding-top: .75rem;}
.shop_info-com-r h3 ul:after{content: "";display: block;clear: both;}
.shop_info-com-r h3 ul li{display: inline-block;width: calc((100vw - (4.2rem + 15px)) / 4);height: calc((100vw - (4.2rem + 15px)) / 4);margin-left: 5px;background-size: cover;background-position: center;overflow: hidden;resize: both;float: left;}
.shop_info-com-r h3 ul li img{width: 100%;height: 100%;overflow: hidden;object-fit: cover;}
.shop_info-com-r h4{font-weight: normal;font-size: .6rem;background-color: #f3f5f7;margin-top: .75rem;padding: .35rem;color: #666;border-radius: 3px;position: relative;}
.shop_info-com-r h4:before{content: "";width: 0;height: 0;border-width: .5rem;border-style: solid;border-color: transparent transparent #f3f5f7 transparent;position: absolute;top: -0.84rem;left: .455rem;}
.shop_info-com-r h4 span{color: #95b6ee;}
.follow .content-block{margin: 0;padding: 0;}
.content-block-img{padding: 3% 27% 0 27%;}
.follow .content-block img{width: 100%;display: block;}
.shop-nothing{padding: 1.75rem 0;text-align: center;color: #999;font-size: .7rem;}
.shop-t6{margin-top: .5rem;padding: 0 .75rem;margin-bottom: 3rem;background-color: #FFFFFF;}
.shop_info08-t2-info-i{padding: .75rem 0;border-bottom: 1px solid #f9f9f9;}
.shop_info08-t2-info-i:last-child{border-bottom: 0;}
.shop_info08-t2-info-i-l{width: 4.5rem;height: 4.5rem;overflow: hidden;position: absolute;background-size: cover;background-position: center;border-radius: 4px;}
.shop_info08-t2-info-i-r{height: 4.5rem;padding-left: 5rem;position: relative;}
.shop_info08-t2-info-i-r h1{font-weight: 600;color: #333;font-size: .7rem;height: 1.05rem;line-height: 1.05rem;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}
.shop_info08-t2-info-i-r-t2{height: 1.05rem;line-height: 1.05rem;margin-top: .1rem;display: -webkit-flex;display: flex;justify-content: space-between;}
.shop_info08-t2-info-i-r-t2-l{padding-right: .3rem;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;-webkit-flex-shrink: 1;flex-shrink: 1;}
.shop_info08-t2-info-i-r-t2-l span{font-size: .65rem;color: #FE433F;}
.shop_info08-t2-info-i-r-t2-l span i{font-style: normal;font-weight: 600;font-size: .8rem;}
.shop_info08-t2-info-i-r-t2-l em{font-style: normal;text-decoration: line-through;font-size: .6rem;color: #888;margin-left: .2rem;}
.shop_info08-t2-info-i-r-t2-r{-webkit-flex-shrink: 0;flex-shrink: 0;}
.shop_info08-t2-info-i-r-t2-r em{font-style: normal;font-size: .6rem;color: #888;margin-left: .2rem;}
.shop_info08-t2-info-i-r-t3{font-size: .6rem;display: -webkit-flex;margin-top: .15rem;padding: .05rem 0;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;display: flex;justify-content: space-between;}
.shop_info08-t2-info-i-r-t3 span{color: #df231c;font-size: .55rem;padding: 0 .2rem;background-color: #FFF5F4;border: .03rem solid #ECD7D6;border-radius: 2px;}
.shop_info08-t2-info-i-r-t3 em{color: #888;font-size: .55rem;margin-left: .5rem;font-style: normal;float: right;}
.shop_info08-t2-info-i-r-t4{height: 1.05rem;line-height: 1.05rem;font-size: .6rem;color: #6B6B6B;margin-top: 0;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}
.shop_info08-t2-info-i-r-t4 i{color: #d6d6d6;font-size: .75rem;vertical-align: -0.05rem;margin-right: .15rem;margin-left: -1px;}
/*
.shop-footer{position: fixed;left: 0;bottom: 0;z-index: 99;width: 100%;}
.shop-f{height: 2.24rem;margin: 0 .75rem .35rem .75rem;border-radius: 2.24rem;overflow: hidden;}
.shop-f-l{width: 65%;height: 100%;color: #fff;background-color: rgba(62,36,37,1.0);padding-left: .75rem;display: -webkit-flex;display: flex;justify-content: flex-start;}
.shop-f-l-l{font-size: .8rem;line-height: 2.24rem;text-align: left;font-weight: bolder;-webkit-flex-shrink: 1;flex-shrink: 1;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;padding-right: .15rem;}
.shop-f-l-l-t{height: .9rem;line-height: .9rem;margin-top: .21rem;}
.shop-f-l-l-b{height: .9rem;line-height: .9rem;font-size: .5rem;color: rgba(255,255,255,.7);font-weight: normal;}
.shop-f-l-l-t em{font-size: .45rem;color: #FF8247;font-style: normal;font-weight: normal;margin-left: .25rem;padding: 0 .0714rem;border: .5px solid #FF8247;border-radius: 2px;vertical-align: .05rem;}
.shop-f-l-r{height: 2.24rem;line-height: 2.24rem;padding-left: .15rem;-webkit-flex-shrink: 1;flex-shrink: 1;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}
.shop-f-l-r span{color: rgba(244,213,2,1.0);font-size: .65rem;padding: 0 .15rem;border: .5px solid rgba(244,213,2,1.0);border-radius: 2.24rem;}
.shop-f-r{width: 35%;height: 100%;}
.shop-f-r a{display: block;height: 100%;line-height: 2.24rem;text-align: center;font-size: .8rem;background-color: #ff2726;color: #fff;}
*/
.shopdhd{opacity: 1;}
.shop-enter-active, .shop-leave-active{transition: opacity .3s;}
.shop-enter, .shop-leave-to{opacity: 1.0;}
.signmask-enter-active, .signmask-leave-active{transition: opacity .3s;}
.signmask-enter, .signmask-leave-to{opacity: 0;}
.sign-enter-active, .sign-leave-active{transition: all .3s;}
.sign-enter, .sign-leave-to{opacity: 0;webkit-transform: translateY(100%);transform: translateY(100%);}
.followmask-enter-active, .followmask-leave-active{transition: opacity .3s;}
.followmask-enter, .followmask-leave-to{opacity: 0;}
.follow-enter-active, .follow-leave-active{transition: all .3s;}
.follow-enter, .follow-leave-to{opacity: 0;webkit-transform: translateY(100%);transform: translateY(100%);}
.sign-mask{position: fixed;top: 0;bottom: 0;z-index: 100;width: 100%;height: 100%;background-color: rgba(0,0,0,.5);display: block;}
.sign{position: fixed;top: 15%;bottom: 0;z-index: 101;width: 100%;height: 100%;background-color: #efeff4;display: block;overflow-y: auto;}
.sign-close {width: 1.4rem;height: 1.4rem;line-height: 1.4rem;text-align: center;background-color: #f3f3f3;border-radius: 2rem;position: absolute;top: .25rem;right: .25rem;}
.sign-close i {color: #777;font-size: .8rem;}
.follow-mask{position: fixed;top: 0;bottom: 0;z-index: 100;width: 100%;height: 100%;background-color: rgba(0,0,0,.5);display: block;}
.follow{position: fixed;top: 46%;bottom: 0;z-index: 101;width: 100%;height: 100%;background-color: #efeff4;display: block;overflow-y: auto;}
.order{padding-bottom: 2.24rem;}
.order-footer{position: fixed;left: 0;bottom: 0;z-index: 99;width: 100%;}
.order-f-d{padding: 0;display: -webkit-flex;display: flex;}
.order-f-d .order-cancel{width: 35%;background-color: rgba(62,36,37,1.0);}
.order-f-d .order-on{width: 65%;}
.order-footer a{background-color: #ff2726;color: #fff;display: block;text-align: center;height: 2.24rem;line-height: 2.24rem;font-size: .75rem;}
.order-footer .orderOnErr{background-color: #808080;}
.order-info1{background-color: #fff;margin-bottom: .35rem;}
.order-info1-t1{padding: .75rem;background-color: #fff;justify-content: flex-start;}
.order-info1-t1-l{margin: 0;}
.order-info1-t1-l-img{width: 3.15rem;height: 3.15rem;border-radius: 4px;background-size: cover;background-position: center;}
.order-info1-t1-r{margin: 0 0 0 .75rem;position: relative;}
.order-info1-t1-r h1{font-weight: normal;font-size: .7rem;height: 1.9rem;line-height: .95rem;overflow: hidden;}
.order-info1-t1-r p{line-height: .8rem;color: #ff2726;font-size: .6rem;padding-top: .434rem;}
.order-info1-t1-r p span{font-size: .7rem;}
.order-info1-t1-r p em{font-style: normal;padding-left: .28rem;color: #999;font-size: .6rem;margin-left: .21rem;}
.order-info1-t1-r p .em-f1{color: #333;}
.order-t2{padding: 0 .75rem;}
.order-t2-num{height: .95rem;line-height: .95rem;padding: .84rem 0;border-bottom: 1px solid #f9f9f9;}
.order-t2-num span{font-size: .7rem;font-weight: 600;}
.order-t2-num-r{float: right;}
.order-t2-num-r a{line-height: 1.4rem;}
.order-t2-num-r a, .order-t2-num-r .num-n{width: 1.4rem;height: 1.4rem;text-align: center;font-size: .7rem;margin-top: -0.294rem;border: 1px solid #ccc;border-radius: 0;box-shadow: none;display: inline-block;float: left;}
.order-t2-num-r .num-n{width: 2.1rem;text-align: center;border-left: none;border-right: none;}
.order-t2-sum{height: .95rem;line-height: .95rem;padding: .84rem 0;border-bottom: 1px solid #f9f9f9;}
.order-t2-sum span{font-size: .7rem;font-weight: bold;}
.order-t2-sum em{font-style: normal;color: #ff2726;font-weight: bolder;font-size: .8rem;float: right;}
.order-t2-spec{}
.order-t2-spec-i{padding: .84rem 0;border-bottom: 1px solid #f9f9f9;}
.order-t2-spec-i h1{height: .95rem;line-height: .95rem;font-weight: 600;font-size: .7rem;}
.order-t2-spec-i-c{padding-top: .21rem;}
.order-t2-spec-i-c:after{content: "";display: block;clear: both;}
.order-t2-spec-i-c a{font-size: .6rem;text-align: center;margin: .49rem .49rem 0 0;padding: .224rem .75rem;border: 1px solid #eee;border-radius: 4px;display: inline-block;float: left;}
.order-t2-spec-i-c .selected{color: #fff;background-color: #ff2726;border: 1px solid #ff2726;}
.order-info2{background-color: #fff;padding: 0 .75rem;}
.order-info2-i{padding: .84rem 0;border-top: 1px solid #f9f9f9;display: -webkit-flex;display: flex;justify-content: flex-start;}
.order-info2-i:first-child{border-top: none;}
.order-info2-i h1{font-weight: normal;font-size: .7rem;display: inline-block;margin: 0;width: 30%;height: 1rem;line-height: 1rem;}
.order-info2-i p{margin: 0;width: 70%;}
.order-info2-i p input{border: none;font-size: .7rem;width: 100%;height: 1rem;display: block;}
.order-info2-i p textarea{border: none;font-size: .7rem;width: 100%;height: 3rem;line-height: 1rem;resize: none;overflow-y: auto;display: block;}
.order-info2-i-r{float: right;margin-top: 1px;}
.order-info2-i-r .fir{margin-right: .49rem;}
.order-info2-i-r span{color: #666;}
.order-info2-i-r span em{font-style: normal;display: inline-block;width: .7rem;height: .7rem;line-height: .7rem;text-align: center;border-radius: 50%;border: 1px solid #ccc;display: inline-block;background-color: #fff;margin: 0 .14rem 0 0;vertical-align: -3px;position: relative;overflow: hidden;}
.order-info2-i-r span .selected{border: 1px solid #ff2726;background-color: #ff2726;}
.order-info2-i-r span i{line-height: .7rem;font-size: .6rem;font-weight: bolder;color: #fff;display: none;}
.order-info2-i-r span .selected i{display: inline-block;}
.modal{width: 13.5rem;font-size: .7rem;margin-left: -6.75rem;border-radius: .35rem;}
.modal-inner{padding: .75rem;border-radius: .35rem .35rem 0 0}
.modal-buttons{height: 2.2rem;}
.modal-button{padding: 0 .25rem;height: 2.2rem;line-height: 2.2rem;font-size: .85rem;}
.community {
	padding: .75rem;
	background-color: #fff;
	display: -webkit-flex;
	display: flex;
	justify-content: space-between;
	margin-top: .5rem;
	margin-bottom: .5rem;
}
.community-l {
	width: 2.1rem;
	height: 2.1rem;
	background-position: center;
	background-size: cover;
	-webkit-border-radius: 5px;
	border-radius: 5px;

}
.community-c {
	padding: 0 .5rem;
	-webkit-flex: 1;
	flex: 1;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}
.community-c h1 {
	color: #333;
	height: 1.05rem;
	line-height: 1.05rem;
	font-size: .75rem;
	font-weight: normal;
	margin: 0;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}
.community-c p {
	height: 1.05rem;
	line-height: 1.05rem;
	color: #999;
	font-size: .65rem;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}
.community-r {
	display: -webkit-flex;
	display: flex;
	align-items: center;
}
.community-r a {
	color: #fff;
	font-size: .7rem;
	padding: .15rem .8rem;
	background-color: #FE433F;
	display: inline-block;
	-webkit-border-radius: 3px;
	border-radius: 3px;
}
.community-mask {
	width: 100%;
	height: 100%;
	position: fixed;
	left: 0;
	top: 0;
	z-index: 9999;
	background-color: rgba(0,0,0,.5);
}
.community-close {
	width: 100%;
	height: 100%;
	position: fixed;
	left: 0;
	top: 0;
	z-index: 10000;
}
.community-pop-ani {
	width: 100%;
	height: 100%;
	position: fixed;
	left: 0;
	top: 0;
	z-index: 10000;
}
@keyframes communityani{
	from {
		-webkit-transform: scale(0);
		transform: scale(0);
	}
	to {
		-webkit-transform: scale(1);
		transform: scale(1);
	}
}
.communityani {
	animation: communityani .3s;
}
.communityanirev {
	animation: communityani .3s reverse;
}
.community-pop {
	width: 13rem;
	-webkit-transform: translate(-50%, -50%);
	transform: translate(-50%, -50%);
	position: fixed;
	left: 50%;
	top: 50%;
	z-index: 10001;
	background-color: #fff;
	-webkit-border-radius: 6px;
	border-radius: 6px;
	overflow: hidden;
}
.community-pop-t1 {
	padding: .75rem 1rem;
}
.community-pop-t1-l {
	width: 2.1rem;
	height: 2.1rem;
	background-position: center;
	background-size: cover;
	-webkit-border-radius: 5px;
	border-radius: 5px;
	position: absolute;
}
.community-pop-t1-r {
	height: 2.1rem;
	line-height: 2.1rem;
	color: #333;
	font-size: .7rem;
	font-weight: 600;
	padding-left: 2.6rem;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}
.community-pop-t2 {
	margin: 0 .75rem;
	border: 1px solid #d9d9d9;
}
.community-pop-t2 img {
	width: 100%;
	display: block;
}
.community-pop-t3 {
	color: #666;
	font-size: .7rem;
	text-align: center;
	margin: .25rem .75rem;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}
.community-pop-t4 {
	color: #666;
	font-size: .7rem;
	text-align: center;
	margin-top: .75rem;
	padding: .5rem .75rem;
	border-top: 1px solid #eee;
}
.community-pop-t4:active {
	background-color: #f3f3f3;
}
.bar-footer{background-color: #FFFFFF!important;position: fixed;left: 0;bottom: 0;z-index: 99;width: 100%;}
.bar-footer .right-btn{width: 4%;position: relative;display: table-cell;height: 2.5rem;color: #FFFFFF;text-align: center;vertical-align: middle;background: -webkit-linear-gradient(90deg,#ff8032,#fe453f);background: -o-linear-gradient(90deg,#ff8032,#fe453f);background: -moz-linear-gradient(90deg,#ff8032,#fe453f);background: linear-gradient(90deg,#ff8032,#fe453f);font-size: .75rem;}
.bar-footer .right-btn i {font-size: 1rem;line-height: 1rem;margin: 0;padding: 0;top: -.15rem;}
.toast{width: auto;margin: 0!important;position: fixed;top: 50%;left: 50%;transform: translateX(-50%) translateY(-50%)!important;}
</style>
{php include wl_template('common/footer');}
